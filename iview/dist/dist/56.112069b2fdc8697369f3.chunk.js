webpackJsonp([56],{262:function(t,e,n){"use strict";function r(t){l||n(993)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(821),a=n.n(s);for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);var o=n(995),u=n.n(o),l=!1,c=n(0),d=r,p=c(a.a,u.a,!1,d,null,null);p.options.__file="src/views/center/index.vue",e.default=p.exports},821:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),a=r(s),i=n(93),o=r(i);e.default={data:function(){var t=this;return{columns:[{title:"ID",key:"id",width:80},{title:"文化馆名称",key:"center_name"},{title:"地区",key:"address"},{title:"状态",key:"status",render:function(t,e){return t("span",{},1===e.row.status?"启用":"禁用")}},{title:"操作",align:"left",render:function(e,n){var r=t;return 1===n.row.id?e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){r.$router.push({name:"center_edit",params:{id:n.row.id}})}}},"编辑")]):e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){r.$router.push({name:"center_edit",params:{id:n.row.id}})}}},"编辑"),e("Button",{props:{type:1===n.row.status?"error":"primary",size:"small"},style:{marginRight:"5px"},attrs:{id:"status-"+n.row.id},on:{click:function(t){r.changeStatus(n.row.id)}}},1===n.row.status?"禁用":"启用")])}}],data:[]}},mounted:function(){this.getCenter()},methods:{changeStatus:function(t){var e=this,n=(0,o.default)("#status-"+t).text().trim(),r="";console.log(n),r="启用"===n?1:0,console.log(r),this.request({api:"/v1/mooc_center/edit",user_type:3,id:t,status:r},function(n){1===n.status?0===r?((0,o.default)("#status-"+t).removeClass("ivu-btn-error").addClass("ivu-btn-primary").html("启用"),e.$Message.success("启用成功")):((0,o.default)("#status-"+t).removeClass("ivu-btn-primary").addClass("ivu-btn-error").html("禁用"),e.$Message.success("禁用成功")):e.$Message.error(n.msg)})},getCenter:function(t){var e=this;a.default.get("http://mooc.com/v1/proxy/index",{params:{api:"/v1/mooc_center/index",user_type:3,all:1}}).then(function(t){t=t.data,1===t.status?e.data=t.data:e.sourceList=[]}).catch(function(t){console.log(t.stack)})}}}},993:function(t,e,n){var r=n(994);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(10)("14fde0ff",r,!1,{})},994:function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,"\n.switch-language-row1 {\n  height: 240px !important;\n}\n.switch-language-tip {\n  font-size: 12px;\n  color: gray;\n  margin-top: 30px;\n}\n.ivu-poptip-confirm .ivu-icon {\n  left: 24px;\n}\n",""])},995:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{attrs:{gutter:10}},[n("Col",[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"home"}}),t._v("\n                    文化馆管理\n                ")],1),t._v(" "),n("Row",[n("router-link",{staticClass:"ivu-btn ivu-btn-primary",attrs:{to:"/center/add"}},[t._v("添加文化馆")])],1),t._v(" "),n("Row",{staticStyle:{"margin-top":"15px"}},[n("Col",{attrs:{span:"15"}},[n("Table",{ref:"selection",attrs:{"highlight-row":"",stripe:"",border:"",columns:t.columns,data:t.data}})],1)],1)],1)],1)],1)],1)},s=[];r._withStripped=!0;var a={render:r,staticRenderFns:s};e.default=a}});