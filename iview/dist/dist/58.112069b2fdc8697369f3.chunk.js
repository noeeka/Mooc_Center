webpackJsonp([58],{263:function(n,e,t){"use strict";function i(n){s||t(996)}Object.defineProperty(e,"__esModule",{value:!0});var a=t(822),r=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,function(){return a[n]})}(o);var d=t(998),p=t.n(d),s=!1,l=t(0),h=i,c=l(r.a,p.a,!1,h,null,null);c.options.__file="src/views/center/distribution.vue",e.default=c.exports},822:function(n,e,t){"use strict";function i(n){var e=[];for(var t in n){var a=n[t],r=a.id,o=a.course_type,d=a.children,p=a.num;if(d){d=i(d);var s={value:r,label:o,children:d,num:p,expand:!0,title:o};0===d.length&&(s.render=function(n,e){var t=(e.root,e.node,e.data);return n("span",{style:{width:"100%",display:"inline-block"}},[n("span",{style:{lineHeight:"30px"}},t.title),n("Input",{props:{value:t.num},attrs:{name:"ids-"+t.value,value:t.num},style:{width:"80px",float:"right"}}),n("div",{style:{clear:"both"}})])}),e.push(s)}}return e}Object.defineProperty(e,"__esModule",{value:!0});var a=t(93),r=function(n){return n&&n.__esModule?n:{default:n}}(a);e.default={name:"distribution",data:function(){return{centers:{},center_id:0,data:[{title:"超星文化馆",expand:!0,render:function(n,e){var t=(e.root,e.node,e.data);return n("span",{style:{display:"inline-block",width:"100%"}},[n("span",[n("Icon",{props:{type:"merge"},style:{marginRight:"8px"}}),n("span",t.title)])])},children:[]}],buttonProps:{type:"ghost",size:"small"}}},methods:{saveData:function(){var n={};(0,r.default)("[name^=ids]").each(function(e,t){var i=t.value;if(i>0){var a=t.getAttribute("name").split("-").pop();n[a]=i}});var e=this;this.request({api:"/v1/initialize/distribute",user_type:3,center_id:this.center_id,ids:n},function(n){1===n.status?e.$Message.success("初始化完成"):e.$Message.error(n.msg)})},getTree:function(){var n=this;this.request({api:"/v1/initialize/index",user_type:3},function(e){1===e.status?n.data[0].children=i(e.data):n.$Notice.error(e.msg)})},getCenter:function(){var n=this;this.request({api:"/v1/mooc_center/index",user_type:3},function(e){if(1===e.status){var t={};for(var i in e.data)1!==e.data[i].id&&(t[e.data[i].id.toString()]=e.data[i].center_name);n.centers=t}})}},mounted:function(){this.id=this.$route.params.course_id,this.getCenter(),this.getTree()}}},996:function(n,e,t){var i=t(997);"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t(10)("61587bdc",i,!1,{})},997:function(n,e,t){e=n.exports=t(9)(!1),e.push([n.i,"\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.article-link-con {\n  height: 32px;\n  width: 100%;\n}\n.fixed-link-enter {\n  opacity: 0;\n}\n#header .ivu-card-body {\n  padding: 0;\n}\n.fixed-link-enter-active,\n.fixed-link-leave-active {\n  transition: opacity 0.3s;\n}\n.fixed-link-enter-to {\n  opacity: 1;\n}\n.openness-radio-con {\n  margin-left: 40px;\n  padding-left: 10px;\n  height: 130px;\n  border-left: 1px dashed #ebe9f3;\n  overflow: hidden;\n}\n.publish-time-picker-con {\n  margin-left: 40px;\n  padding-left: 10px;\n  height: 100px;\n  border-left: 1px dashed #ebe9f3;\n  overflow: hidden;\n}\n.openness-con-enter {\n  height: 0;\n}\n.openness-con-enter-active,\n.openness-con-leave-active {\n  transition: height .3s;\n}\n.openness-con-enter-to {\n  height: 130px;\n}\n.openness-con-leave {\n  height: 130px;\n}\n.openness-con-leave-to {\n  height: 0;\n}\n.publish-button-con {\n  border-top: 1px solid #f3eff1;\n  padding-top: 14px;\n}\n.publish-button {\n  float: right;\n  margin-left: 10px;\n}\n.publish-time-enter {\n  height: 0;\n}\n.publish-time-enter-active,\n.publish-time-leave-active {\n  transition: height .3s;\n}\n.publish-time-enter-to {\n  height: 100px;\n}\n.publish-time-leave {\n  height: 100px;\n}\n.publish-time-leave-to {\n  height: 0;\n}\n.classification-con {\n  height: 200px;\n  margin-top: -16px;\n  border-left: 1px solid #dddee1;\n  border-right: 1px solid #dddee1;\n  border-bottom: 1px solid #dddee1;\n  border-radius: 0 0 3px 3px;\n  padding: 10px;\n  overflow: auto;\n}\n.add-new-tag-con {\n  margin-top: 20px;\n  border-top: 1px dashed #dbdddf;\n  padding: 20px 0;\n  height: 60px;\n  overflow: hidden;\n}\n.add-new-tag-enter {\n  height: 0;\n  margin-top: 0;\n  padding: 0px 0;\n}\n.add-new-tag-enter-active,\n.add-new-tag-leave-active {\n  transition: all .3s;\n}\n.add-new-tag-enter-to {\n  height: 60px;\n  margin-top: 20px;\n  padding: 20px 0;\n}\n.add-new-tag-leave {\n  height: 60px;\n  margin-top: 20px;\n  padding: 20px 0;\n}\n.add-new-tag-leave-to {\n  height: 0;\n  margin-top: 0;\n  padding: 0px 0;\n}\n.section-active {\n  background-color: #e2e2e2;\n}\n",""])},998:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("Row",[t("Card",{attrs:{id:"header"}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("p",{staticStyle:{width:"auto"}},[t("Icon",{attrs:{type:"pound"}}),n._v("\n                    章节管理\n                ")],1)])])],1),n._v(" "),t("Row",{staticStyle:{"background-color":"#fff"}},[t("Col",{attrs:{span:"10"}},[t("Card",[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"android-menu"}}),n._v("\n                    慕课分配\n                ")],1),n._v(" "),t("Form",{attrs:{id:"form-data"}},[t("FormItem",{attrs:{label:"选择场馆:","label-width":80}},[t("Select",{model:{value:n.center_id,callback:function(e){n.center_id=e},expression:"center_id"}},n._l(n.centers,function(e,i){return t("Option",{key:i,attrs:{value:i}},[n._v(n._s(e))])}))],1),n._v(" "),t("Tree",{attrs:{data:n.data}}),n._v(" "),t("Row",{staticStyle:{"text-align":"right"}},[t("Button",{attrs:{type:"primary"},on:{click:n.saveData}},[n._v("保存")])],1)],1)],1)],1)],1)],1)},a=[];i._withStripped=!0;var r={render:i,staticRenderFns:a};e.default=r}});