webpackJsonp([53],{260:function(t,e,n){"use strict";function o(t){c||n(987)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(819),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);var s=n(989),l=n.n(s),c=!1,u=n(0),p=o,d=u(r.a,l.a,!1,p,null,null);d.options.__file="src/views/column/column.vue",e.default=d.exports},819:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),r=o(i),a=n(6),s=o(a);e.default={data:function(){var t=this;return{columns:[{title:"ID",key:"id"},{title:"名称",key:"title"},{title:"来源",key:"center_name"},{title:"状态",key:"status",render:function(t,e){return t("span",{},1===e.row.status?"显示":"隐藏")}},{title:"操作",key:"action",width:300,align:"center",render:function(e,n){var o=t,i=[];return n.row.center_id.toString()===t.cid&&"2"===n.row.level.toString()&&(i[i.length]=e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){o.$router.push({name:"column_course_add",params:{id:n.row.id}})}}},"添加课程")),n.row.center_id.toString()===t.cid?i[i.length]=[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){o.$router.push({name:"column_add",params:{id:n.row.id}})}}},"添加子栏目"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){o.$router.push({name:"column_edit",params:{id:n.row.id}})}}},"编辑"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！"},on:{"on-ok":function(){o.delColumn(n.row.id)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])]:i[i.length]=[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){o.$router.push({name:"column_edit",params:{id:n.row.id}})}}},"查看")],e("div",i)}}],data:[],source:0,uploder_id:0,create_time:0,type:0,title:"",ids:[],current:1,pageSize:10,total:0,typeList:{1:"后台",2:"老师"},sourceList:{},uploderList:{},dataList:{},cid:0}},created:function(){this.cid=s.default.get("center_id"),this.getColumnTree()},methods:{getColumnTree:function(){var t=this;r.default.get("http://mooc.com/v1/proxy/index",{params:{api:"/v1/column/getColumnTable",user_type:3,page:this.current,len:this.pageSize,all:1}}).then(function(e){var n=e.data;1===n.status&&(t.data=n.data.list,t.total=n.data.num)}).catch(function(t){console.log(t.stack)})},handlePageChange:function(t){this.current=t,this.getColumnTree()},Search:function(){this.getvideoList()},delColumn:function(t){var e=this;r.default.get("http://mooc.com/v1/proxy/index",{params:{api:"/v1/column/delete",user_type:3,id:t}}).then(function(t){console.log(t),1===t.data.status?(e.$Message.success("删除成功"),e.getColumnTree()):e.$Message.error(t.data.msg)}).catch(function(t){console.log(t.stack)})},selectionClick:function(t){for(var e=this,n=[],o=0;o<t.length;o++)n.push(t[o].id);e.ids=n},columnAdd:function(){this.$router.push({name:"column_add",params:{id:0}})}}}},987:function(t,e,n){var o=n(988);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(10)("5d460464",o,!1,{})},988:function(t,e,n){e=t.exports=n(9)(!1),e.push([t.i,"\n.switch-language-row1 {\n  height: 240px !important;\n}\n.switch-language-tip {\n  font-size: 12px;\n  color: gray;\n  margin-top: 30px;\n}\n.ivu-poptip-confirm .ivu-icon {\n  left: 24px;\n}\n",""])},989:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{attrs:{gutter:10}},[n("Col",[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-paper-outline"}}),t._v("\n                    栏目管理\n                ")],1),t._v(" "),n("Row",{staticStyle:{"margin-top":"15px"}},[n("Button",{attrs:{type:"info"},on:{click:t.columnAdd}},[t._v("添加栏目")])],1),t._v(" "),n("Row",{staticStyle:{"margin-top":"15px"},attrs:{id:"columnTree"}},[n("Table",{ref:"selection",attrs:{"highlight-row":"",stripe:"",border:"",columns:t.columns,data:t.data},on:{"on-selection-change":t.selectionClick}})],1),t._v(" "),n("Page",{attrs:{current:t.current,"page-size":t.pageSize,total:t.total,"show-elevator":"","show-total":""},on:{"on-change":t.handlePageChange}})],1)],1)],1)],1)},i=[];o._withStripped=!0;var r={render:o,staticRenderFns:i};e.default=r}});